"use strict";(self.webpackChunkwebstir_portal=self.webpackChunkwebstir_portal||[]).push([[9895],{1917:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"how-to/provider-selection","title":"Select Module Providers","description":"Webstir can swap module providers without code changes. Use the environment variables below or edit webstir.providers.json to override the defaults.","source":"@site/docs/how-to/provider-selection.md","sourceDirName":"how-to","slug":"/how-to/provider-selection","permalink":"/docs/how-to/provider-selection","draft":false,"unlisted":false,"editUrl":"https://github.com/webstir-io/webstir-portal/edit/main/docs/how-to/provider-selection.md","tags":[],"version":"current","lastUpdatedAt":1761532142000,"frontMatter":{},"sidebar":"howTo","previous":{"title":"Precompressed Assets","permalink":"/docs/how-to/precompression"},"next":{"title":"Public Launch & Repo Pattern","permalink":"/docs/how-to/public-launch-checklist"}}');var t=n(4848),r=n(8453);const o={},d="Select Module Providers",l={},c=[{value:"Frontend",id:"frontend",level:2},{value:"Backend",id:"backend",level:2},{value:"Testing",id:"testing",level:2},{value:"Notes",id:"notes",level:2}];function a(e){const s={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"select-module-providers",children:"Select Module Providers"})}),"\n",(0,t.jsxs)(s.p,{children:["Webstir can swap module providers without code changes. Use the environment variables below or edit ",(0,t.jsx)(s.code,{children:"webstir.providers.json"})," to override the defaults."]}),"\n",(0,t.jsx)(s.h2,{id:"frontend",children:"Frontend"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"WEBSTIR_FRONTEND_PROVIDER=@webstir-io/vite-frontend webstir build\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"@webstir-io/webstir-frontend"})," (default)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"@webstir-io/vite-frontend"})," (Vite build pipeline)"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Or add a ",(0,t.jsx)(s.code,{children:"webstir.providers.json"})," file to the workspace root:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "frontend": "@webstir-io/vite-frontend"\n}\n'})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["After editing ",(0,t.jsx)(s.code,{children:"webstir.providers.json"}),", run ",(0,t.jsx)(s.code,{children:"webstir install"})," to ensure the provider dependency is installed."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"backend",children:"Backend"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"WEBSTIR_BACKEND_PROVIDER=@webstir-io/webstir-backend webstir publish\n"})}),"\n",(0,t.jsx)(s.p,{children:"Backend swaps will pick up any provider published under the module contract."}),"\n",(0,t.jsx)(s.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"WEBSTIR_TESTING_PROVIDER=@webstir-io/webstir-testing webstir test\n"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"@webstir-io/webstir-testing"})," \u2014 default VM-based provider published by Webstir."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"@webstir-io/vitest-testing"})," \u2014 Vitest integration; add it with your package manager (for example, ",(0,t.jsx)(s.code,{children:"pnpm add -D @webstir-io/vitest-testing"}),") then run ",(0,t.jsx)(s.code,{children:"WEBSTIR_TESTING_PROVIDER=@webstir-io/vitest-testing webstir test"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["Or add a ",(0,t.jsx)(s.code,{children:"webstir.providers.json"})," entry:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "testing": "@webstir-io/webstir-testing"\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"Quickstart for unpublished builds:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"WEBSTIR_TESTING_PROVIDER=@webstir-io/vitest-testing \\\nWEBSTIR_TESTING_PROVIDER_SPEC=../vitest-testing \\\nwebstir test\n"})}),"\n",(0,t.jsxs)(s.p,{children:["The host installs providers from ",(0,t.jsx)(s.code,{children:"WEBSTIR_TESTING_PROVIDER_SPEC"})," when set; leave it empty when consuming from the registry. Point the value at your local clone of the standalone repository when testing unpublished builds."]}),"\n",(0,t.jsx)(s.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Generated workspaces include a ",(0,t.jsx)(s.code,{children:"webstir.providers.json"})," file with defaults\u2014check it into version control to make provider selection explicit."]}),"\n",(0,t.jsxs)(s.li,{children:["The provider must implement ",(0,t.jsx)(s.code,{children:"@webstir-io/module-contract"})," and be installed in the workspace."]}),"\n",(0,t.jsxs)(s.li,{children:["The module-host bridge proxies all output via the ",(0,t.jsx)(s.code,{children:".NET"})," host; log entries include provider id, entry points, and diagnostics."]}),"\n",(0,t.jsxs)(s.li,{children:["Future work will add config-driven selection (",(0,t.jsx)(s.code,{children:"webstir.config.ts"}),")."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>d});var i=n(6540);const t={},r=i.createContext(t);function o(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);