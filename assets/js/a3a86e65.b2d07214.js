"use strict";(self.webpackChunkwebstir_portal=self.webpackChunkwebstir_portal||[]).push([[3512],{5285:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"product/plans/mcp/brainstorming","title":"MCP Integration with Webstir","description":"Overview","source":"@site/docs/product/plans/mcp/brainstorming.md","sourceDirName":"product/plans/mcp","slug":"/product/plans/mcp/brainstorming","permalink":"/docs/product/plans/mcp/brainstorming","draft":false,"unlisted":false,"editUrl":"https://github.com/webstir-io/webstir-portal/edit/main/docs/product/plans/mcp/brainstorming.md","tags":[],"version":"current","lastUpdatedAt":1761061153000,"frontMatter":{},"sidebar":"plans","previous":{"title":"Process Runner \u2014 Phased Plan","permalink":"/docs/product/plans/infrastructure/process-runner"},"next":{"title":"webstir add-route / add-job requirements","permalink":"/docs/product/plans/route-job-generators"}}');var r=i(4848),t=i(8453);const l={},o="MCP Integration with Webstir",c={},a=[{value:"Overview",id:"overview",level:2},{value:"Core Integration Points",id:"core-integration-points",level:2},{value:"1. Build Automation Server",id:"1-build-automation-server",level:3},{value:"2. Live Development Assistant",id:"2-live-development-assistant",level:3},{value:"3. Build Pipeline Intelligence",id:"3-build-pipeline-intelligence",level:3},{value:"4. Code Generation Tools",id:"4-code-generation-tools",level:3},{value:"Implementation Architecture",id:"implementation-architecture",level:2},{value:"MCP Server Structure",id:"mcp-server-structure",level:3},{value:"Integration with Engine",id:"integration-with-engine",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"1. AI-Driven Project Setup",id:"1-ai-driven-project-setup",level:3},{value:"2. Real-Time Error Resolution",id:"2-real-time-error-resolution",level:3},{value:"3. Performance Optimization",id:"3-performance-optimization",level:3},{value:"4. Component Scaffolding",id:"4-component-scaffolding",level:3},{value:"Technical Considerations",id:"technical-considerations",level:2},{value:"SSE Bridge",id:"sse-bridge",level:3},{value:"TypeScript Integration",id:"typescript-integration",level:3},{value:"CSS Processing Hooks",id:"css-processing-hooks",level:3},{value:"Build Graph Access",id:"build-graph-access",level:3},{value:"Potential MCP Resources",id:"potential-mcp-resources",level:2},{value:"Diagnostics Resource",id:"diagnostics-resource",level:3},{value:"Manifest Resource",id:"manifest-resource",level:3},{value:"Development Phases",id:"development-phases",level:2},{value:"Phase 1: Basic Build Tools",id:"phase-1-basic-build-tools",level:3},{value:"Phase 2: Live Development",id:"phase-2-live-development",level:3},{value:"Phase 3: Intelligence Layer",id:"phase-3-intelligence-layer",level:3},{value:"Phase 4: Advanced Features",id:"phase-4-advanced-features",level:3},{value:"Benefits",id:"benefits",level:2},{value:"For Developers",id:"for-developers",level:3},{value:"For AI Assistants",id:"for-ai-assistants",level:3},{value:"Open Questions",id:"open-questions",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mcp-integration-with-webstir",children:"MCP Integration with Webstir"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Model Context Protocol (MCP) integration to enable AI-powered development workflows with Webstir projects."}),"\n",(0,r.jsx)(n.h2,{id:"core-integration-points",children:"Core Integration Points"}),"\n",(0,r.jsx)(n.h3,{id:"1-build-automation-server",children:"1. Build Automation Server"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Expose Webstir CLI commands as MCP tools"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"webstir.init"})," - Initialize new projects with AI-suggested configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"webstir.build"})," - Trigger builds and receive structured error reports"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"webstir.publish"})," - Deploy production builds with optimization insights"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"webstir.addPage"})," - Generate new pages with AI-written boilerplate"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Value"}),": AI assistants can manage entire project lifecycle without terminal access"]}),"\n",(0,r.jsx)(n.h3,{id:"2-live-development-assistant",children:"2. Live Development Assistant"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Real-time development feedback via SSE integration"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Connect to WatchService for file change notifications"}),"\n",(0,r.jsx)(n.li,{children:"Stream build errors/warnings as they occur"}),"\n",(0,r.jsx)(n.li,{children:"Suggest fixes based on error context"}),"\n",(0,r.jsx)(n.li,{children:"Auto-apply corrections with user approval"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Value"}),": Proactive error resolution during development"]}),"\n",(0,r.jsx)(n.h3,{id:"3-build-pipeline-intelligence",children:"3. Build Pipeline Intelligence"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Deep visibility into build processes"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Token-level CSS analysis (via CssTokenizer)"}),"\n",(0,r.jsx)(n.li,{children:"JavaScript bundle composition and tree-shaking insights"}),"\n",(0,r.jsx)(n.li,{children:"Asset manifest tracking for cache optimization"}),"\n",(0,r.jsx)(n.li,{children:"Performance metrics per build stage"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Value"}),": AI can suggest optimizations based on actual build data"]}),"\n",(0,r.jsx)(n.h3,{id:"4-code-generation-tools",children:"4. Code Generation Tools"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Generate Webstir-compliant code structures"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create TypeScript components following project conventions"}),"\n",(0,r.jsx)(n.li,{children:"Generate CSS modules with proper imports"}),"\n",(0,r.jsx)(n.li,{children:"Add backend API endpoints with type safety"}),"\n",(0,r.jsx)(n.li,{children:"Maintain project references in tsconfig files"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Value"}),": Consistent code generation that follows Webstir patterns"]}),"\n",(0,r.jsx)(n.h2,{id:"implementation-architecture",children:"Implementation Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"mcp-server-structure",children:"MCP Server Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mcp-webstir/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 tools/          # MCP tool definitions\n\u2502   \u2502   \u251c\u2500\u2500 build.ts\n\u2502   \u2502   \u251c\u2500\u2500 watch.ts\n\u2502   \u2502   \u2514\u2500\u2500 generate.ts\n\u2502   \u251c\u2500\u2500 resources/      # MCP resource providers\n\u2502   \u2502   \u251c\u2500\u2500 diagnostics.ts\n\u2502   \u2502   \u2514\u2500\u2500 manifest.ts\n\u2502   \u2514\u2500\u2500 server.ts       # Main MCP server\n\u2514\u2500\u2500 package.json\n"})}),"\n",(0,r.jsx)(n.h3,{id:"integration-with-engine",children:"Integration with Engine"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Direct Engine API access (bypass CLI)"}),"\n",(0,r.jsx)(n.li,{children:"Hook into Workflow events"}),"\n",(0,r.jsx)(n.li,{children:"Subscribe to Service notifications"}),"\n",(0,r.jsx)(n.li,{children:"Access Pipeline internals for analysis"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"1-ai-driven-project-setup",children:"1. AI-Driven Project Setup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'User: "Create a new blog with TypeScript and CSS modules"\nAI: [Uses MCP to run init, configure TypeScript, enable CSS modules]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-real-time-error-resolution",children:"2. Real-Time Error Resolution"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'WatchService: "TypeScript error in frontend/pages/about.ts:15"\nMCP: [Streams error to AI]\nAI: "Missing import for SharedType, adding it now..."\nMCP: [Applies fix via edit tool]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-performance-optimization",children:"3. Performance Optimization"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'AI: [Queries build metrics via MCP]\nAI: "Your bundle includes unused exports. Enabling tree-shaking..."\nMCP: [Modifies build configuration]\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-component-scaffolding",children:"4. Component Scaffolding"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'User: "Add a contact form page"\nAI: [Uses MCP to generate page structure]\nMCP: [Creates contact.html, contact.css, contact.ts with proper imports]\n'})}),"\n",(0,r.jsx)(n.h2,{id:"technical-considerations",children:"Technical Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"sse-bridge",children:"SSE Bridge"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Convert Server-Sent Events to MCP notifications"}),"\n",(0,r.jsx)(n.li,{children:"Maintain persistent connection during watch mode"}),"\n",(0,r.jsx)(n.li,{children:"Handle reconnection logic"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"typescript-integration",children:"TypeScript Integration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Parse tsc output for structured errors"}),"\n",(0,r.jsx)(n.li,{children:"Map source locations to original files"}),"\n",(0,r.jsx)(n.li,{children:"Provide fix suggestions based on error codes"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"css-processing-hooks",children:"CSS Processing Hooks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Expose CssTokenizer for analysis"}),"\n",(0,r.jsx)(n.li,{children:"Allow CSS transformation plugins"}),"\n",(0,r.jsx)(n.li,{children:"Report minification savings"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"build-graph-access",children:"Build Graph Access"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Expose module dependency graph"}),"\n",(0,r.jsx)(n.li,{children:"Track import chains"}),"\n",(0,r.jsx)(n.li,{children:"Identify circular dependencies"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"potential-mcp-resources",children:"Potential MCP Resources"}),"\n",(0,r.jsx)(n.h3,{id:"diagnostics-resource",children:"Diagnostics Resource"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "uri": "webstir://diagnostics/current",\n  "name": "Current Build Diagnostics",\n  "mimeType": "application/json",\n  "text": "{\\"errors\\": [...], \\"warnings\\": [...]}"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"manifest-resource",children:"Manifest Resource"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "uri": "webstir://manifest/index",\n  "name": "Asset Manifest for index.html",\n  "mimeType": "application/json",\n  "text": "{\\"css\\": [...], \\"js\\": [...], \\"assets\\": [...]}"\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"development-phases",children:"Development Phases"}),"\n",(0,r.jsx)(n.h3,{id:"phase-1-basic-build-tools",children:"Phase 1: Basic Build Tools"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Implement core CLI commands as MCP tools"}),"\n",(0,r.jsx)(n.li,{children:"Simple success/error reporting"}),"\n",(0,r.jsx)(n.li,{children:"Synchronous execution model"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phase-2-live-development",children:"Phase 2: Live Development"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SSE integration for real-time feedback"}),"\n",(0,r.jsx)(n.li,{children:"Diagnostic streaming"}),"\n",(0,r.jsx)(n.li,{children:"File watching notifications"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phase-3-intelligence-layer",children:"Phase 3: Intelligence Layer"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Build analysis and insights"}),"\n",(0,r.jsx)(n.li,{children:"Performance recommendations"}),"\n",(0,r.jsx)(n.li,{children:"Code generation templates"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"phase-4-advanced-features",children:"Phase 4: Advanced Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multi-project management"}),"\n",(0,r.jsx)(n.li,{children:"Deployment integration"}),"\n",(0,r.jsx)(n.li,{children:"Custom plugin support"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,r.jsx)(n.h3,{id:"for-developers",children:"For Developers"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Never leave IDE for build tasks"}),"\n",(0,r.jsx)(n.li,{children:"AI catches errors before running builds"}),"\n",(0,r.jsx)(n.li,{children:"Automated boilerplate generation"}),"\n",(0,r.jsx)(n.li,{children:"Performance insights without profiling"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"for-ai-assistants",children:"For AI Assistants"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Direct project control"}),"\n",(0,r.jsx)(n.li,{children:"Rich context from build pipeline"}),"\n",(0,r.jsx)(n.li,{children:"Structured error information"}),"\n",(0,r.jsx)(n.li,{children:"Ability to fix issues proactively"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"open-questions",children:"Open Questions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Should MCP server be bundled with Webstir or separate package?"}),"\n",(0,r.jsx)(n.li,{children:"How to handle long-running watch processes in MCP?"}),"\n",(0,r.jsx)(n.li,{children:"Should we expose raw Engine APIs or curated tool set?"}),"\n",(0,r.jsx)(n.li,{children:"How to manage authentication for production deployments?"}),"\n",(0,r.jsx)(n.li,{children:"Can MCP tools modify build configuration directly?"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Prototype basic MCP server with init/build tools"}),"\n",(0,r.jsx)(n.li,{children:"Test SSE-to-MCP bridge for watch mode"}),"\n",(0,r.jsx)(n.li,{children:"Design resource schema for diagnostics"}),"\n",(0,r.jsx)(n.li,{children:"Create example AI workflows"}),"\n",(0,r.jsx)(n.li,{children:"Gather feedback from early users"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);